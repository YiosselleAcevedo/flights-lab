<!DOCTYPE html>
<html>

<head>
  <title>
    View Part
  </title>
  <link rel='stylesheet' href='/stylesheets/style.css' />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

</head>

<body class="p-3 mb-2 bg-light text-dark" .bg-light>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>

  <span>Part: <%= part.name %> </span><a href="../">HOME</a>

  <h4>Your parts stats: </h4>


  <ul class="list-group">
    <li class="list-group-item list-group-item-dark">
      <%= part.name %>
    </li>
    <li class="list-group-item list-group-item-dark">
      <%= part.bodyPart %>
    </li>
    <li class="list-group-item list-group-item-dark">
      <%= part.grade %>
    </li>
    <li class="list-group-item list-group-item-dark">
      <%= part.price %>
    </li>
  </ul>


  <h4>Need to make an update:</h4>
  <form action="/parts/<%= part._id %>" method="post">
    <input type="hidden" name="_id" value="<%= part._id %>">
    <div class="mb-3">
      <label class="form-label">Name</label>
      <input type="text" name="name" value="<%= part.name %>" class='form-control' placeholder='Name...'>
    </div>
    <div class="mb-3">
      <label class="form-label">Belongs To:</label>
      <select name="gundam" class="form-select form-select-sm" aria-label=".form-select-sm" >
        <%

        for ( var i = 0; i < gundams.length; i++ )
        {
            var selected = ( part.gundam === gundams[i]._id ) ? "selected" : "";
            %><option value="<%=gundams[i]._id %>" <%=selected %>><%= gundams[i].name %></option><%
        }
        %>
      </select>
    </div>
    <div class="mb-3">
      <label class="form-label">Grades</label>
      <select name="grades" class="form-select form-select-sm" aria-label=".form-select-sm" >
        <%
        var options = [ "Standard", "High", "Metal", "Perfect" ];
        for ( var i = 0; i < options.length; i++ )
        {
            var selected = ( part.grade == options[i] ) ? "selected" : "";
            %><option value="<%=options[i] %>" <%=selected %>><%= options[i] %></option><%
        }
        %>
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label">Body Part</label>
      <select name="bodyPart" class="form-select form-select-sm" aria-label=".form-select-sm">
        <%
        var options = [ "Leg", "Hand", "Hand", "Torso", "Head" ];
        for ( var i = 0; i < options.length; i++ )
        {
            var selected = ( part.bodyPart == options[i] ) ? "selected" : "";
            %><option value="<%=options[i] %>" <%=selected %>><%= options[i] %></option><%
        }
        %>
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label">Price</label>
      <input type="text" name="price" class='form-control' value="<%= part.price %>">
    </div>
    <div class="mb-3">
      <input type="submit" value="Update Part" class="btn btn-primary">
    </div>
  </form>
</body>

</html>